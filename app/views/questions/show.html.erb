<% previous_question = @question.previous_question %>
<% next_question = @question.next_question %>
<div class="float-right">
  <%= link_to fa("arrow-left") + " Previous", previous_question, class: "btn btn-outline-primary #{ previous_question ? "" : "disabled" }" %>
  <%= link_to fa("arrow-right") + " Next", next_question, class: "btn btn-outline-primary #{ next_question ? "" : "disabled" }" %>
  <%= link_to fa("arrow-up"), @question.quiz, class: "btn btn-outline-primary" %>
</div>
<h2><%= @question %></h2>

<p>
  <strong>Quiz</strong>
  <%= @question.quiz %>
</p>

<p>
  <strong>Ask</strong>
  <%= strip_tags( markdown @question.ask ) %>
</p>

<p>
  <strong>Answer</strong>
  <%= @question.answer %>
</p>

<p>
  <strong>Explanation</strong>
  <%= strip_tags( markdown @question.explanation ) %>
</p>

<p>
  <strong>Points</strong>
  <%= @question.points %>
</p>

<p>
  <strong>Form type</strong>
  <%= @question.form_type.humanize %>
</p>

<strong>Config</strong>
<pre><%= @question.config_yaml %></pre>

<strong>Scoring</strong>
<pre><%= @question.scoring %></pre>

<div class="float-right">
  <%= link_to fa("caret-up") + ' Move up', question_moveup_path(@question), class: "btn btn-outline-primary #{ @question.quiz.queued? || @question.number == 1 ? 'disabled' : '' }" %>
  <%= link_to fa("trash") + ' Delete', question_path(@question), method: :DELETE, data: { confirm: "Are you sure that you want to delete this question?" }, class: "btn btn-outline-danger #{ @question.quiz.queued? ? 'disabled' : '' }" %>
</div>
<%= link_to fa("edit") + ' Edit', edit_question_path(@question), class: "btn btn-outline-primary #{ @question.quiz.queued? ? 'disabled' : '' }" %>

<hr>
<%= render 'questions/files', question: @question %>

<hr>
<%= form_with url: question_test_path( @question ), method: :POST, local: false do |form| %>
  <%= render 'questions/rendered/ask', question: @question %>
<% end %>
<hr>
<div id="question_test_result">
</div>
